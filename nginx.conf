events {}

http {
    server {
        listen 10000;
        # server_name localhost;

        location /api/Auth/ { 
            if ($request_method = 'OPTIONS') {     
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # p.s penambahan rewrite membuat client harus menambahkan "/"
            # rewrite /api/Auth/(.*) /$1  break;
            proxy_pass http://auth:10001;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/UserGroup/ { 
            if ($request_method = 'OPTIONS') {     
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # p.s penambahan rewrite membuat client harus menambahkan "/"
            # rewrite /api/Auth/(.*) /$1  break;
            proxy_pass http://auth:10001;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        
        location /api/FloorplanDevice/ {
           
            if ($request_method = 'OPTIONS') {
               
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/FloorplanDevice/(.*) /$1  break;
            proxy_pass http://floorplan-device:10003;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
            proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

          location /api/FloorplanDevice/open/ {
           
            if ($request_method = 'OPTIONS') {
               
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/FloorplanDevice/(.*) /$1  break;
            proxy_pass http://floorplan-device:10003;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
            proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }


        location /api/FloorplanMaskedArea/ {
           
            if ($request_method = 'OPTIONS') {
               
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/FloorplanMaskedArea/(.*) /$1  break;
            proxy_pass http://floorplan-masked-area:10004;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

         location /api/FloorplanMaskedArea/open/ {
           
            if ($request_method = 'OPTIONS') {
               
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/FloorplanMaskedArea/(.*) /$1  break;
            proxy_pass http://floorplan-masked-area:10004;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/MstAccessCctv/ {
           if ($request_method = 'OPTIONS') {
               
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstAccessCctv/(.*) /$1  break;
            proxy_pass http://mst-accesscctv:10005;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/MstAccessControl/ {
            if ($request_method = 'OPTIONS') {
               
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstAccessControl/(.*) /$1  break;
            proxy_pass http://mst-accesscontrol:10006;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }


        location /api/MstApplication/ {
            # header cors untuk semua respons
            if ($request_method = 'OPTIONS') {
               
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # proxy_pass_header 'Access-Control-Allow-Origin';
            # proxy_pass_header 'Access-Control-Allow-Methods';
            # proxy_pass_header 'Access-Control-Allow-Headers';
            
            # rewrite /api/MstApplication/(.*) /$1  break;
            proxy_pass http://mst-application:10007;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;

            # add_header 'Access-Control-Allow-Origin' '*';
            # add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
            # add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
            # add_header 'Access-Control-Allow-Credentials' 'true';
        }

            location /api/MstBleReader/ {     
                if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstBleReader/(.*) /$1  break;
            proxy_pass http://mst-blereader:10008;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
            
        }

         location /api/MstBleReader/open/ {     
                if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstBleReader/(.*) /$1  break;
            proxy_pass http://mst-blereader:10008;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
            
        }

        location /api/MstBrand/ {

            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstBrand/(.*) /$1  break;
            proxy_pass http://mst-brand:10009;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
    
        }

           location /api/MstBrand/open/ {

            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstBrand/(.*) /$1  break;
            proxy_pass http://mst-brand:10009;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
    
        }

        location /api/MstBuilding/ {
            
            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstBuilding/(.*) /$1  break;
            proxy_pass http://mst-building:10010;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
            proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

          location /api/MstBuilding/open/ {
            
            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstBuilding/(.*) /$1  break;
            proxy_pass http://mst-building:10010;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
            proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

            location /Uploads/BuildingImages/ {
            proxy_pass http://mst-building:10010/Uploads/BuildingImages/;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /api/MstDepartment/ {

              if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstDepartment/(.*) /$1  break;
            proxy_pass http://mst-department:10011;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
            }

             location /api/MstDepartment/open/ {

              if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstDepartment/(.*) /$1  break;
            proxy_pass http://mst-department:10011;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
            }

        location /api/MstDistrict/ {
           
            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstDistrict/(.*) /$1  break;
             proxy_pass http://mst-district:10012;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

            location /api/MstDistrict/open/ {
           
            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstDistrict/(.*) /$1  break;
             proxy_pass http://mst-district:10012;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/MstFloor/ {
           
           if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstFloor/(.*) /$1  break;
              proxy_pass http://mst-floor:10013;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

          location /api/MstFloor/open/ {
           
           if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstFloor/(.*) /$1  break;
              proxy_pass http://mst-floor:10013;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /Uploads/FloorImages/ {
            proxy_pass http://mst-floor:10013/Uploads/FloorImages/;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

        location /api/MstFloorplan/ {
           
           if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstFloorplan/(.*) /$1  break;
            proxy_pass http://mst-floorplan:10014;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
            proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

            location /api/MstFloorplan/open/ {
           
           if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstFloorplan/(.*) /$1  break;
            proxy_pass http://mst-floorplan:10014;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
            proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/MstIntegration/ {
            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstIntegration/(.*) /$1  break;
             proxy_pass http://mst-integration:10015;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/MstMember/ {
            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstMember/(.*) /$1  break;
             proxy_pass http://mst-member:10016;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

            location /api/MstMember/open/ {
            if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstMember/(.*) /$1  break;
             proxy_pass http://mst-member:10016;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /Uploads/MemberFaceImages/ {
            proxy_pass http://mst-member:10016/Uploads/MemberFaceImages/;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }


        location /api/MstOrganization/ {            
          if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstOrganization/(.*) /$1  break;
            proxy_pass http://mst-organization:10017;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

         location /api/MstOrganization/open/ {            
          if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/MstOrganization/(.*) /$1  break;
            proxy_pass http://mst-organization:10017;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/TrackingTransaction/ {
         
          if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/TrackingTransaction/(.*) /$1  break;
             proxy_pass http://tracking-transaction:10018;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

          location /api/TrackingTransaction/open/ {
         
          if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/TrackingTransaction/(.*) /$1  break;
             proxy_pass http://tracking-transaction:10018;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/Visitor/ {
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/Visitor/(.*) /$1  break;
            proxy_pass http://visitor:10019;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

          location /api/Visitor/open/ {
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/Visitor/(.*) /$1  break;
            proxy_pass http://visitor:10019;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /Uploads/visitorFaceImages/ {
            proxy_pass http://visitor:10019/Uploads/visitorFaceImages/;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

           location /api/BleReaderNode/ {
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/BleReaderNode/(.*) /$1  break;
            proxy_pass http://ble-reader-node:10021;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/VisitorBlacklistArea/ {
            
          if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/VisitorBlacklistArea/(.*) /$1  break;
            proxy_pass http://visitor-blacklist-area:10020;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

          location /api/VisitorBlacklistArea/open/ {
            
          if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/VisitorBlacklistArea/(.*) /$1  break;
            proxy_pass http://visitor-blacklist-area:10020;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/AlarmRecordTracking/ {
           
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://alarm-record-tracking:10002;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

         location /api/AlarmRecordTracking/open/ {
           
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://alarm-record-tracking:10002;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/MstEngine/ {
           
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://mst-engine:10022;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }
        # location /api/VisitorCard/ {
           
        #      if ($request_method = 'OPTIONS') {
        #         add_header 'Access-Control-Allow-Origin' '*';
        #         add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
        #         add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
        #         # add_header 'Access-Control-Allow-Credentials' 'true';
        #         add_header 'Content-Length' 0;
        #         return 204;
        #     }
        #     # haurs tambah / diujung url
        #     # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
        #      proxy_pass http://visitor-card:10023;
        #     proxy_set_header Host $host;
        #     proxy_set_header X-Real-IP $remote_addr;
        #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        #     proxy_set_header X-Forwarded-Proto $scheme;
        #      # jika reverse proxy, nginx perlu neruskan authorization dari client ke
        #      proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
        #     proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
        #     proxy_set_header Authorization $http_authorization;
        #     proxy_pass_header Authorization;
        # }

        location /api/CardRecord/ {
           
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://card-record:10024;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

          location /api/CardRecord/open/ {
           
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://card-record:10024;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        location /api/Card/ {
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://card:10026;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

         location /api/Card/open/ {
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://card:10026;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }


         location /api/TrxVisitor/ {
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://trx-visitor:10025;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

           location /api/TrxVisitor/open/ {
             if ($request_method = 'OPTIONS') {
                add_header 'Access-Control-Allow-Origin' '*';
                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
                add_header 'Access-Control-Allow-Headers' 'Authorization, Content-Type, X-API-KEY-TRACKING-PEOPLE';
                # add_header 'Access-Control-Allow-Credentials' 'true';
                add_header 'Content-Length' 0;
                return 204;
            }
            # haurs tambah / diujung url
            # rewrite /api/AlarmRecordTracking/(.*) /$1  break;
             proxy_pass http://trx-visitor:10025;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
             # jika reverse proxy, nginx perlu neruskan authorization dari client ke
             proxy_set_header X-API-KEY-TRACKING-PEOPLE $http_X_API_KEY_TRACKING_PEOPLE;
            proxy_pass_header X-API-KEY-TRACKING-PEOPLE;
            proxy_set_header Authorization $http_authorization;
            proxy_pass_header Authorization;
        }

        
    }
}